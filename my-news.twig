{{ set(this, 'title', 'My News') }}

{% set limit = 20 %}
{% set articles = _User.getUserFeed({limit: limit, offset: 0}) %}
{{this.registerJs("UserArticlesController.load();")}}
<div class="home LoadMyArticles" data-page="2">
    {% if articles|length > 0 %}
        {% if articles[0] is defined %}
            {{this.render('partials/_single-article.twig', {article: articles[0], 'position': 1, containerClass: 'col-full'}) | raw}}
        {% endif %}

        {% if articles[1] is defined %}
            {{this.render('partials/_single-article.twig', {article: articles[1], 'position': 2, containerClass: 'col-third'}) | raw}}
        {% endif %}

        {% if articles[2] is defined %}
            {{this.render('partials/_single-article.twig', {article: articles[2], 'position': 3, containerClass: 'col-third'}) | raw}}
        {% endif %}

        {% if articles[3] is defined %}
            {{this.render('partials/_single-article.twig', {article: articles[3], 'position': 4, containerClass: 'col-third'}) | raw}}
        {% endif %}

        {% if articles[4] is defined %}
            {{this.render('partials/_single-article.twig', {article: articles[4], 'position': 5, containerClass: 'col-half'}) | raw}}
        {% endif %}

        {% if articles[5] is defined %}
            {{this.render('partials/_single-article.twig', {article: articles[5], 'position': 6, containerClass: 'col-half'}) | raw}}
        {% endif %}

        {% if articles[6] is defined %}
            {{this.render('partials/_single-article.twig', {article: articles[6], 'position': 7, containerClass: 'col-quarter'}) | raw}}
        {% endif %}

        {% if articles[7] is defined %}
            {{this.render('partials/_single-article.twig', {article: articles[7], 'position': 8, containerClass: 'col-quarter'}) | raw}}
        {% endif %}

        {% if articles[8] is defined %}
            {{this.render('partials/_single-article.twig', {article: articles[8], 'position': 9, containerClass: 'col-quarter'}) | raw}}
        {% endif %}

        {% if articles[9] is defined %}
            {{this.render('partials/_single-article.twig', {article: articles[9], 'position': 10, containerClass: 'col-quarter'}) | raw}}
        {% endif %}
    {% endif %}

</div>
    
<div class="row text-center has-margin-bottom-40">
    {% if articles|length >= limit %}
        <a href="javascript:void(0)" class="button loadMoreMyArticles button__profile-follow"><i class="fa fa-arrow-down"></i> Load More</a>
    {% endif %}
</div> 

{% if articles|length <= 0 %}
    <div class="not-found">
    <h1 class="not-found__headline">No articles found.</h1>
    <p class="not-found__sub-headline">To get a customised feed of content follow channels, authors or blogs in the network.</p>
    <br/><br/><br/>
</div>
{% endif %}    