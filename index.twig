{{ set(this, 'title', _Blog.getBlogTitle()) }}

{{this.registerJs("HomeController.listing();")}}
{% set limit = 10 %}
{% set articlesArr = _Blog.getBlogFeed({'limit': limit, 'offset': 0}) %}
{% set articles = articlesArr.articles %}

<div class="home ajaxArticles" data-existing-nonpinned-count="{{articlesArr.existingNonPinnedCount}}" data-offset="{{limit}}">

    {% if articles[0] is defined %}
        {{this.render('partials/_single-article.twig', {article: articles[0], 'position': 1, containerClass: 'col-full'}) | raw}}
    {% endif %}

    {% if articles[1] is defined %}
        {{this.render('partials/_single-article.twig', {article: articles[1], 'position': 2, containerClass: 'col-third'}) | raw}}
    {% endif %}

    {% if articles[2] is defined %}
        {{this.render('partials/_single-article.twig', {article: articles[2], 'position': 3, containerClass: 'col-third'}) | raw}}
    {% endif %}

    {% if articles[3] is defined %}
        {{this.render('partials/_single-article.twig', {article: articles[3], 'position': 4, containerClass: 'col-third'}) | raw}}
    {% endif %}

    {% if articles[4] is defined %}
        {{this.render('partials/_single-article.twig', {article: articles[4], 'position': 5, containerClass: 'col-half'}) | raw}}
    {% endif %}

    {% if articles[5] is defined %}
        {{this.render('partials/_single-article.twig', {article: articles[5], 'position': 6, containerClass: 'col-half'}) | raw}}
    {% endif %}

    {% if articles[6] is defined %}
        {{this.render('partials/_single-article.twig', {article: articles[6], 'position': 7, containerClass: 'col-quarter'}) | raw}}
    {% endif %}

    {% if articles[7] is defined %}
        {{this.render('partials/_single-article.twig', {article: articles[7], 'position': 8, containerClass: 'col-quarter'}) | raw}}
    {% endif %}

    {% if articles[8] is defined %}
        {{this.render('partials/_single-article.twig', {article: articles[8], 'position': 9, containerClass: 'col-quarter'}) | raw}}
    {% endif %}

    {% if articles[9] is defined %}
        {{this.render('partials/_single-article.twig', {article: articles[9], 'position': 10, containerClass: 'col-quarter'}) | raw}}
    {% endif %}
    {% if articles[10] is defined %}
        <div class="call-to-action-wrapper">
            <div class="container">
                <div class="row">
                    <div class="call-to-action image-covered">
                        <div class="overlay_layer"></div>
                        <div class="col-md-5 col-sm-8 col-xs-12 col-centered text-center">
                            <div class="content-area">
                                <h3 class="upper">Mayank Test</h3>
                                <p>Mayank test1</p>
                                <div class="form-group">
                                    <a class="button loadMoreArticles button__profile-follow has-margin-bottom-0" href="#">test</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
</div>
<div class="text-center has-margin-bottom-40">
    {% if articles|length >= limit %}
        <a href="javascript:void(0)" class="button loadMoreArticles button__profile-follow"><i class="fa fa-arrow-down"></i>Load More</a>
    {% endif %}
</div>

{% set noDataCls = 'hide' %}
{% if articles|length == 0 %}
    {% set noDataCls = '' %}
{% endif %}
<div class="text-center {{noDataCls}} NoArticlesMsg">
    <p class="no-data text-center">No articles found.</p>  
</div>    